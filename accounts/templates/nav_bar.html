     
    {% block content %}
    {% load number_filters %}
	
    <div class="container">

        <div class="sidebar-left">
            <nav>
                <a href="{% url "home_page" %}"><span></span><span>Domov</span></a>
                <a href="#" id="search-toggle"><span></span><span>Hľadať</span></a>
                {% if request.user.is_authenticated %}
                <a href="{% url 'profile' user.username %}"><span></span><span>Profil</span></a>
                {%endif%}
                <a href="{%url 'create_post_page'%}"><span></span><span>Create post</span></a>
                {% if not request.user.is_authenticated %}
                    <a href="{%url "login"%}"><span></span><span>Login</span></a>
                {%endif%}
            </nav>
            <button class="post-button" style="width: 100%; margin-top: 20px;">Lavka</button>
        </div>


    		<!-- Модальне вікно пошуку -->
		<div id="search-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
			<div class="flex items-center justify-center min-h-screen p-4">
				<div class="bg-white rounded-2xl w-full max-w-md mx-auto">
					<!-- Заголовок -->
					<div class="flex items-center justify-between p-4 border-b">
						<h3 class="text-lg font-bold">Hľadať</h3>
						<button id="search-close" class="text-gray-500 hover:text-gray-700 text-2xl">
							×
						</button>
					</div>

					<!-- Поле пошуку -->
					<div class="p-4">
						<input
							type="text"
							id="search-input"
							placeholder="Zadajte vyhľadávací dopyt..."
							class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
						/>
					</div>

					<!-- Підвал -->
					<div class="p-4 border-t text-sm text-gray-500">
						Stlačením klávesu Enter spustíte vyhľadávanie
					</div>
				</div>
			</div>
		</div>




<script>
	    document.addEventListener("DOMContentLoaded", () => {



	        // Пошукове модальне вікно
	        const searchToggle = document.getElementById('search-toggle');
	        const searchModal = document.getElementById('search-modal');
	        const searchClose = document.getElementById('search-close');
	        const searchInput = document.getElementById('search-input');
	        const searchForm = document.getElementById('search-form');

	        // Відкриття пошуку
	        if (searchToggle) {
	            searchToggle.addEventListener('click', (e) => {
	                e.preventDefault();
	                searchModal.classList.remove('hidden');
	                searchInput.focus();
	            });
	        }

	        // Закриття пошуку
	        if (searchClose) {
	            searchClose.addEventListener('click', () => {
	                searchModal.classList.add('hidden');
	                searchInput.value = '';
	            });
	        }

	        // Закриття по кліку на фон
	        if (searchModal) {
	            searchModal.addEventListener('click', (e) => {
	                if (e.target === searchModal) {
	                    searchModal.classList.add('hidden');
	                    searchInput.value = '';
	                }
	            });
	        }

	        // Закриття по Escape
	        document.addEventListener('keydown', (e) => {
	            if (e.key === 'Escape' && searchModal && !searchModal.classList.contains('hidden')) {
	                searchModal.classList.add('hidden');
	                searchInput.value = '';
	            }
	        });

	        // Відправка форми по Enter
	        if (searchInput) {
	    searchInput.addEventListener('keydown', (e) => {
	        if (e.key === 'Enter') {
	            e.preventDefault();
	            const searchQuery = searchInput.value.trim();
	            if (searchQuery) {
	                // Переходимо на сторінку пошуку з параметром в URL
	                const baseUrl = window.location.origin; // отримуємо http://localhost:8000
	                window.location.href = `${baseUrl}/search/${encodeURIComponent(searchQuery)}/`;

	            }
	        }
	    });
	}
	    });
</script>


    {% endblock %}